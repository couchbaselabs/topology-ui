!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["topology-ui"]=t():e["topology-ui"]=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{create_cluster:()=>v});var r={mobile:{groups:[{border:"border-blue-400",color:"bg-blue-400"},{border:"border-green-500",color:"bg-green-500"},{border:"border-yellow-500",color:"bg-yellow-500"}],databases:{icon:"fas fa-signal",color:"bg-orange-400"},network:{urlColor:"text-orange-400",icon:"fas fa-network-wired",color:"bg-blue-500",textColor:"text-white",displayText:"Load Balancer"},version:{color:"bg-red-700",lineColor:"border-red-200",textColor:"text-white"}},cluster:{groups:[{border:"border-blue-400 bg-blue-50",color:"bg-blue-400"},{border:"border-green-500 bg-green-50",color:"bg-green-500"},{border:"border-yellow-500 bg-yellow-50",color:"bg-yellow-500"}],buckets:{ephemeral:{color:"bg-orange-400",icon:"fas fa-database",scopes:{color:"bg-orange-300",textColor:"text-white",iconFold:"fas fa-caret-right",iconExtend:"fas fa-caret-down"},collections:{color:"bg-gray-300",textColor:"text-white",icon:"fas fa-ellipsis-v"}},couchbase:{color:"bg-blue-400",icon:"fas fa-database",scopes:{color:"bg-blue-200",textColor:"text-white",iconFold:"fas fa-caret-right",iconExtend:"fas fa-caret-down"},collections:{color:"bg-gray-300",textColor:"text-white",icon:"fas fa-ellipsis-v"}},magma:{color:"bg-green-500",icon:"fas fa-database",scopes:{color:"bg-green-300",textColor:"text-white",iconFold:"fas fa-caret-right",iconExtend:"fas fa-caret-down"},collections:{color:"bg-gray-300",textColor:"text-white",icon:"fas fa-ellipsis-v"}},total:{color:"bg-gray-800",icon:"fas fa-plus-square"},default:{color:"bg-blue-400",icon:"fas fa-database",scopes:{color:"bg-blue-200",textColor:"text-white",iconFold:"fas fa-caret-right",iconExtend:"fas fa-caret-down"},collections:{color:"bg-gray-300",textColor:"text-white",icon:"fas fa-ellipsis-v"}}},version:{color:"bg-red-400",textColor:"text-white"}},resources:{color:"bg-gray-700",textColor:"text-white"}};function o(e){var t="hidden",o=1,n=.5,s=r.resources.color+" "+r.resources.textColor;return e&&(o=e.memory,n=e.cpus,t=""),'                                        <div class="align-center '+t+' ">\n                                            <div class=" '+s+' rounded-lg text-xs font-bold mx-2 px-2 ">\n                                                <p>'+o+" GB</p>                                                <p> "+n+" CPUs</p>                                            </div>\n                                        </div>\n"}function n(e){return' <svg width="14" height="14">\n       <image width="14" height="14" preserveAspectRatio="none" xlink:href="'+e+'" />\n </svg> '}function s(e,t){return l(e,1e3,["","K","M","G","T","P","E","Z","Y"],t)}function l(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;if(0===e)return"0 "+r[0];var n=o<0?0:o,s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(n))+" "+r[s]}function i(e){var t="";return e&&e.length>0&&(t="<div class='flex flex-row space-x-1'>",e.forEach((function(e){return t+=function(e){return n("/images/connector-"+e+".svg")}(e)})),t+="</div>"),t}function a(e){var t,o=(t=e.type?e.type:"default",r.cluster.buckets[t]?r.cluster.buckets[t]:r.cluster.buckets.default),n=["total"===e.type?"bg-gray-800":"bg-gray-400","total"===e.type?"bg-gray-800":"bg-amber-400","bg-orange-400","bg-yellow-800"],a=e.replicas?e.replicas:"--",d="",c="",f=e.ttl?""+e.ttl:"0",v=i(e.connectors);return e.scopes&&(d='<div class=" px-2 bg-white rounded-full text-blue-400 ">'+e.scopes.length+" </div>",c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.cluster.buckets.default,o="";return e&&e.length>0&&(o="<div class = \"grid grid-cols-8 \">    <div class='grid col-span-8'>",e.forEach((function(e){return o+=x(e,t)+"\n "})),o+="    </div> </div>"),o}(e.scopes,o)),'<div class="grid grid-cols-8 gap-0 text-xs text-gray-500 text-center font-bold pb-1 break-normal justify-items-center"> \n     <div class="col-span-2 grid grid-nowrap content-center justify-self-stretch justify-items-start px-2 text-xs text-white font-bold '+o.color+' rounded-xl shadow-400">      <div class="flex flex-row flex-nowrap justify-self-stretch items-center">        <i class="'+o.icon+'  pl-1"><span class="px-2">'+e.name+"   </span></i>"+d+'      </div>\n    </div>    <div class="grid grid-nowrap text-xs text-gray-900 break-normal">\n        <span class="px-2 py-1 text-xs text-white font-bold '+n[0]+' rounded-xl shadow-400">'+l(e.quota,1024,["MB","GB","TB","PB","EB","ZB","YB"],undefined)+'</span>\n    </div>\n    <div class="grid grid-nowrap text-xs text-gray-900">\n        <span class="px-2 py-1 text-xs text-white font-bold '+n[1]+' rounded-xl shadow-400">'+s(e.documents)+'</span>\n    </div>\n    <div class="grid grid-nowrap text-xs text-gray-900">\n'+function(e){var t,r=e.ratio?e.ratio:0;switch(Math.round(r/10)){case 0:case 1:case 2:t="bg-red-400";break;case 3:t="bg-red-300";break;case 4:t="bg-red-200";break;case 5:t="bg-orange-400";break;case 6:t="bg-orange-300";break;case 7:t="bg-orange-200";break;case 8:t="bg-green-200";break;case 9:t="bg-green-300";break;case 10:t="bg-green-400";break;default:t=" bg-green-400 "}return e.ratio?'        <span class="px-2 py-1 text-xs font-bold '+t+' rounded-xl shadow-400">'+e.ratio+" %</span>\n":'        <div class="text-xs text-gray-900 font-bold text-center">\n          --\n        </div>\n'}(e)+'    </div>\n    <div class="grid grid-nowrap  text-xs text-gray-900 font-bold">\n'+a+'    </div>\n    <div class="grid grid-nowrap  text-xs text-gray-900 font-bold text-center">\n         '+v+'\n    </div>\n    <div class="grid grid-nowrap text-xs text-gray-900 font-bold text-center">\n         '+f+"\n    </div>\n</div> \n "+c}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.cluster.buckets.default,o=e&&e.documents?s(e.documents,2):"--",n=e.ttl?""+e.ttl:"",l=e.connectors?i(e.connectors):"";return e&&e.name?'   <div class="grid col-start-1 col-span-2 grid-nowrap mb-1 content-center justify-self-stretch justify-items-start px-2 text-xs text-white font-bold '+t.collections.color+' rounded-xl shadow-400">      <div class="flex flex-row flex-nowrap justify-self-stretch items-center">        <i class="pl-1 '+t.collections.icon+'"><span class="px-2">'+e.name+'   </span></i>      </div>\n   </div>   <div class="grid col-start-4 grid-nowrap content-center justify-items-center px-2 text-center text-xs text-gray-300 ">       <p> '+o+'</p>   </div>   <div class="grid col-start-7 grid-nowrap content-center justify-self-stretch justify-items-center px-2 text-center text-xs text-gray-400 font-bold">'+l+'   </div>   <div class="grid col-start-8 grid-nowrap content-center justify-self-stretch justify-items-center px-2 text-center text-xs text-gray-400 font-bold">       <p> '+n+"</p>   </div>":""}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.cluster.buckets.default,o="",n=e.documents?s(e.documents,2):"--",l="mb-1",i=t.scopes.iconFold;return e.collections&&e.collections.length>0&&(o='<div class="grid grid-cols-8 text-xs text-gray-200 text-center font-bold p-1 ml-1">',e.collections.forEach((function(e){return o+=d(e,t)})),o+="</div>",l="",i=t.scopes.iconExtend),"<div class='grid grid-cols-8 "+t.scopes.color+" rounded-md shadow-xs ml-1 "+l+'\'>   <div class="grid col-start-1 col-span-2 grid-nowrap content-center justify-self-stretch justify-items-start px-2 text-xs text-white font-bold ">        <i class="pl-1 '+i+'"><span class="px-2">'+e.name+'   </span></i>   </div>   <div class="grid col-start-4 grid-nowrap content-center justify-self-stretch justify-items-center px-2 text-center text-xs text-gray-400 font-bold">       <p> '+n+"</p>   </div></div>"+o}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.cluster.buckets.default;return e?c(e,t):""}function f(e){var t="";return e&&e.forEach((function(e){return t+='<div class="flex-row max-w-100 py-2 my-0 space-y-0">'+(i=(l=(r=e).name)?"":"hidden",a=function(e,t){return e&&e.length>9?e.substr(0,2)+" ... "+e.substr(-4,6):e}(l),'   <p class="flex-row text-xs text-gray-400 font-bold '+i+' ">'+a+'</p><svg id="svg-node1" y="10" width="90" height="'+(r.resources?50:60)+'">    <image x="0" y="-10" width="90" height="80" preserveAspectRatio="none" xlink:href="/images/nodebg.png"/></svg>')+o(r.resources)+(n=r.services,s="",n.forEach((function(e){return s+="<p>"+e+"</p>"})),'<div class="flex-row text-xs font-bold ">'+s+"</div></div>");var r,n,s,l,i,a})),'<div class="my-2 flex flex-wrap">'+t+"</div>"}function v(e,t){e.innerHTML='<div class="flex flex-col justify-content-center"><div class="flex flex-row justify-content-center items-center ">'+function(e){return e?'<div class="flex-column mb-2 -pb-2">'+function(e){var t="";if(e&&e.length>0){var r="";e.forEach((function(e){return r+=function(e){var t=e.languages||e.versions?"":"hidden";return'                          <div class="flex-column max-w-100 py-2 my-0 space-y-0">\n                                    <p class="text-xs text-gray-400 font-bold text-center">'+(e.name?e.name:"")+'</p>\n                                    <div class="px-2 flex flex-row">                                            <div class="m-1 '+(e.total?"":"hidden")+'"><span class="p-1 rounded-full bg-black text-white font-bold text-xs">'+e.total+'x</span></div>                                            <svg width="30" height="40">\n                                                <image width="30" height="40" preserveAspectRatio="none" xlink:href="/images/couchbaselite.svg" />\n                                            </svg>\n'+function(e){var t="";if(e&&e.length>0){var r="";e.forEach((function(e){return r+=n("/images/os-"+e+".svg")})),t='   <div class="flex flex-row space-x-1">'+r+"      </div>"}return t}(e.os)+'                                    </div>                                    <div class="align-center -top-4 '+t+' ">\n                                            <div class="-top-16 bg-red-600 z-10 rounded-lg text-xs text-white font-bold mx-2 px-2 my-0 py-0 text-center">\n                                                <p>lite '+e.language+":"+e.versions+"</p>                                            </div>\n                                    </div>\n                                </div>\n"}(e)})),t='<div class="mx-2 mb-2 flex justify-center">'+r+"</div>"}return t}(e.clients)+function(e){var t=r.mobile.network;return'<div class="mx-2 flex-column"><div class="text-xs '+t.urlColor+' text-right "><p>'+e.publicAddress+'</p></div><div class="z-10 border-b-2 border-black-400 border-dashed"></div><div class="grid justify-items-center ">   <div class="-my-3 mx-10 px-6 py-1 text-xs '+t.textColor+" font-bold "+t.color+' rounded-xl shadow-400"><i class="'+t.icon+"\"><span class='px-2'>"+t.displayText+"</span></i></div>\n</div></div>"}(e)+'<div class="mx-2 -my-2 flex flex-row font-bold font-bold text-red-700 text-center text-xs ">'+function(e){var t,n=e.version?"border-b-2 "+r.mobile.version.lineColor:"",s="",l=0,i=e.groups.length>1;return e.groups.forEach((function(e){s+=function(e,t,n){var s="",l=r.mobile.groups[n%r.mobile.groups.length],i=e.name;return e.instances.forEach((function(e){return s+=(r=(t=e).resources?35:50,function(e,t){return'                          <div class="flex-row max-w-100 py-2 my-0">\n                                    <p class="flex-row text-xs text-gray-400 font-bold">'+e.nodeIp+"</p>\n"+t+o(e.resources)+'                                    <div class="flex-row">\n                                        <p>'+e.name+"</p>\n                                    </div>\n                                </div>\n"}(t,function(e){return'                                    <svg y="10" width="'+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:90)+'" height="'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:50)+'">\n                                        <image x="17" y="-5" width="55" height="55" preserveAspectRatio="none" xlink:href="'+e+'" />\n                                    </svg>\n'}("/images/syncgateway.svg",r)));var t,r})),t?'<div  class="my-2 border-2 '+l.border+'  border-dotted ">          <div class="-my-2 flex-row align-center">             <span class="'+l.color+' z-5 rounded-xl text-xs text-white font-bold mx-4 px-4 my-0 py-0">'+i+'</span>          </div>          <div class="flex flex-wrap ">'+s+"          </div></div>":'<div  class="-mt-4 mb-0 ">          <div class="flex flex-wrap ">'+s+"          </div></div>"}(e,i,l),l++})),'<div class="flow-column  "><div class="mx-8 mb-2 mt-8 flex flex-wrap font-bold lg:space-x-4 font-bold text-red-700 text-center align-center '+n+' ">'+s+"</div>"+((t=e.version)?'<div class="flex flex-row-reverse ">    <span class="'+r.mobile.version.color+' border-white border-4 rounded-xl text-xs text-white font-bold mx-2 px-2 mb-0 -mt-4 py-0">v'+t+"</span></div>":"")+"</div>"}(e)+((t=e.databases)?'  <div class="mt-4" >\n                    <div class="flex flex-col">\n                        <div class="w-full">\n                            <div>\n                                <table>\n                               <thead class="border-b-2 border-orange-400">\n                                    <tr>\n                                        <th class="px-2 py-1 text-xs text-gray-500">\n                                            Databases\n                                        </th>\n                                    </tr>\n                                    </thead>\n'+function(e){var t="";return e.forEach((function(e){return t+=(o=e,'                                    <tr class="whitespace-nowrap ">\n                                        <td class="px-2 py-1 text-xs text-gray-500">\n                                            <div class="flex flex-row px-6 py-1 text-xs text-white font-bold '+(n=r.mobile.databases).color+' rounded-xl shadow-400 w-full"><i class="'+n.icon+"\"><span class='px-2'>"+o.name+"</span></i></div>\n                                        </td>\n                                    </tr>\n");var o,n})),'                                    <tbody class="bg-white">\n'+t+"                                    </tbody>\n"}(t)+"                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>":"")+"</div></div>":"";var t}(t.mobile)+function(e){return e?'<div class="flex flex-row justify-content-center align-center"></div>':""}(t.applications)+'</div><div class="flex flex-row auto-rows-auto">  <div class="flex-col align-center grow ">'+function(e){return e?'   <div class="m-4 flex-row border-4 rounded-xl border-red-700 font-bold font-bold text-red-700 text-center shadow-xl align-left"><div class="flex w-full -my-3 ">     <span class="bg-black rounded-xl text-xs text-white font-bold mx-2 px-4">'+e.name+"</span></div>"+(n=e.serverGroups,s=n.length>1,l="",i=0,n.forEach((function(e){l+=function(e,t,o){var n,s,l=r.cluster.groups[o%r.cluster.groups.length];return e&&t?'<div class="rounded-xl border-2 '+l.border+' border-dashed mb-1">'+(n=e.name,s=l.color,n?'<div class="-my-4 flex-row align-center">    <span class="'+s+' z-10 rounded-xl text-xs text-white font-bold mx-4 px-4 my-0 py-0">'+n+"</span></div>":"")+f(e.nodes)+"</div>":"<div class='-mt-8 -mb-4'>"+f(e.nodes)+"</div>"}(e,s,i),i++})),'<div class="px-4 mt-8 flex flex-wrap rounded-lg font-bold gap-x-4 gap-y-3 font-bold text-red-700 text-center align-center">'+l+"</div>")+o(e.resources)+((t=e.version)?'<div class="flex flex-row-reverse -mt-1 ">    <span class="bg-red-700 border-white border-4 rounded-xl text-xs text-white font-bold mx-2 px-2 mt-0 -mb-3 py-0">v'+t+"</span></div>":"")+"      </div>":"";var t,n,s,l,i}(t)+'  </div>  <div class="flex flex-col flex-nowrap  shrink-0 ">   <div class="flex flex-row flex-nowrap  ">'+function(e){return e?'     <div class="flex flex-col flex-nowrap">\n '+((t=e)?'<div class="grid grid-cols-1 shadow-sm m-4 "><div class="grid grid-cols-8 border-b-2 border-orange-400 text-xs text-gray-500 text-center font-bold p-1 mb-1 grid-nowrap"> \n    <div class=\'col-span-2\'><p>Buckets</p></div> \n    <div><p>Quota</p></div> \n    <div><p>#docs</p></div> \n    <div><p>%Resident</p></div> \n    <div><p>Replicas</p></div> \n    <div><p>Connectors</p></div> \n    <div><p>TTL</p></div> \n </div> \n '+function(e){var t="";return e.forEach((function(e){return t+=a(e)})),t}(t)+function(e){var t="";return e&&e.length>1&&(t='<div class="border-t border-gray-200 bg-gray-100 ">',t+=a(e.reduce((function(t,r){return{name:"Total",quota:t.quota+r.quota,documents:t.documents+r.documents,type:"total",total:e.length}}))),t+="</div>"),t}(t)+"</div>":"")+"     </div> ":"";var t}(t.buckets)+"      </div>  </div></div></div>"}return t})()}));